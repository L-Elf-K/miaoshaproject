<html>
	<head>
		<meta charset="UTF-8">
		<link href="static/assets/global/plugins/bootstrap/css/bootstrap.min.css" style="stylesheet" type="text/css" />
		<link href="static/assets/global/css/components.css" rel="stylesheet" type="text/css" />
		<link href="static/assets/admin/pages/css/login.css" rel="stylesheet" type="text/css" />
		<script src="static/assets/global/plugins/jquery-1.11.0.min.js" type="text/javascript"></script>
	</head>
	
	<body>
		<div class="content">
			<h3 class="form-title">VIP用户列表浏览</h3>
			<div class="table-responsive">
				<table class="table">
					<thead>
						<tr>
							<th>用户id</th>
							<th>用户等级</th>
							<th>开始时间</th>
							<th>结束时间</th>
						</tr>
					</thead>
					<tbody id="container">

					</tbody>
				</table>
			</div>
		</div>
	</body>

	<script>
		//定义全局商品信息
		var g_vipList = [];
		$(document).ready(function (){
				$.ajax({
					type:"GET",
					url:"http://localhost:8090/vip/list",
					xhrFields:{withCredentials:true,},
					success:function (data){
						if (data.status == "success"){
							g_vipList = data.data;
							reloadDom();
						}else{
							alert("获取VIP信息失败，原因为"+data.data.errMsg);
						}
					},
					error:function (data){
						alert("获取VIP信息失败，原因为"+data.responseText);
					}
				});
		});
		function reloadDom(){
			for (var i = 0; i < g_vipList.length; i++){
				var vipVO = g_vipList[i];
				var dom =
						"<tr data-id='"+vipVO.id+"' id='itemDetail"+vipVO.id+"'>\
								<td>"+vipVO.userId+"</td>\
								<td>"+vipVO.level+"</td>\
								<td>"+vipVO.startDate+"</td>\
								<td>"+vipVO.endDate+"</td>\
								</tr>";
				$("#container").append($(dom));
				//点击一行任意的位置 跳转到商品详情页
				// $("#itemDetail"+vipVO.id).on("click", function (e){
				// 	window.location.href="getitem.html?id="+$(this).data("id");
				// });
			}
		}


	</script>
</html>